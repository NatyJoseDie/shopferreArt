(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5695],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>n,r:()=>d});var s=a(5155),r=a(2115),i=a(9708),o=a(2085),l=a(9434);let d=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:n=!1,...c}=e,m=n?i.DX:"button";return(0,s.jsx)(m,{className:(0,l.cn)(d({variant:r,size:o,className:a})),ref:t,...c})});n.displayName="Button"},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var s=a(5155),r=a(2115),i=a(9434);let o=r.forwardRef((e,t)=>{let{className:a,type:r,...o}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...o})});o.displayName="Input"},3320:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var s=a(5155),r=a(2115),i=a(5631),o=a(9551),l=a(6695),d=a(285),n=a(2523),c=a(5057),m=a(7262),u=a(9409),p=a(5127),g=a(7649),x=a(9434);let f=g.bL;g.l9;let h=g.ZL,j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(g.hJ,{className:(0,x.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});j.displayName=g.hJ.displayName;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(j,{}),(0,s.jsx)(g.UC,{ref:t,className:(0,x.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});b.displayName=g.UC.displayName;let N=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,x.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};N.displayName="AlertDialogHeader";let y=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,x.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};y.displayName="AlertDialogFooter";let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(g.hE,{ref:t,className:(0,x.cn)("text-lg font-semibold",a),...r})});v.displayName=g.hE.displayName;let w=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(g.VY,{ref:t,className:(0,x.cn)("text-sm text-muted-foreground",a),...r})});w.displayName=g.VY.displayName;let k=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(g.rc,{ref:t,className:(0,x.cn)((0,d.r)(),a),...r})});k.displayName=g.rc.displayName;let C=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(g.ZD,{ref:t,className:(0,x.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});C.displayName=g.ZD.displayName;var S=a(172),E=a(4301),F=a(3587),A=a(9311),D=a(462),R=a(5222),T=a(7223),I=a(7481),J=a(8856),P=a(6766),z=a(8539),L=a(4165);function _(e){let{isOpen:t,onOpenChange:a,productToEdit:i,onProductUpdate:o,productCategories:l}=e,[p,g]=(0,r.useState)(null),[x,f]=(0,r.useState)(!1),{toast:h}=(0,I.dj)();(0,r.useEffect)(()=>{i?g({id:i.id,name:i.name,price:i.price.toString(),category:i.category,newCategoryName:"",stock:i.stock.toString(),description:i.description,longDescription:i.longDescription||"",imageFile:null,currentImageUrl:i.images&&i.images[0]?i.images[0]:"",tags:i.tags||[],brand:i.brand||"",sku:i.sku||"",featured:i.featured||!1}):g(null)},[i,t]);let j=e=>{if(!p)return;let{name:t,value:a}=e.target;g({...p,[t]:a})},b=e=>{p&&g({...p,featured:e})},N=async e=>{if(e.preventDefault(),!p||!i){h({title:"Error",description:"No hay producto para editar.",variant:"destructive"});return}let t=p.category;if(p.newCategoryName&&""!==p.newCategoryName.trim()&&(t=p.newCategoryName.trim()),!p.name||!p.price||!t||""===p.stock||!p.description){h({title:"Error",description:"Nombre, precio, categor\xeda, stock y descripci\xf3n son requeridos.",variant:"destructive"});return}let s=parseFloat(p.price),r=parseInt(p.stock,10);if(isNaN(s)||s<0){h({title:"Error",description:"El precio debe ser un n\xfamero v\xe1lido.",variant:"destructive"});return}if(isNaN(r)||r<0){h({title:"Error",description:"El stock debe ser un n\xfamero entero no negativo.",variant:"destructive"});return}f(!0);let l=p.currentImageUrl;if(p.imageFile){let{id:e,dismiss:t}=h({title:"Subiendo imagen...",description:"Por favor espera.",duration:1/0});try{let e=ref(storage,"product_images/".concat(Date.now(),"_").concat(p.imageFile.name));await uploadBytes(e,p.imageFile),l=await getDownloadURL(e),t(),h({title:"Imagen subida",description:"La imagen se ha subido correctamente."})}catch(e){console.error("Error uploading image: ",e),t(),h({title:"Error de subida de imagen",description:"No se pudo subir la imagen. ".concat(e.message||"Intenta de nuevo."),variant:"destructive"}),f(!1);return}}o({...i,id:p.id,name:p.name,price:s,category:t,stock:r,description:p.description,longDescription:p.longDescription,images:l?[l]:i.images,tags:p.tags,brand:p.brand,sku:p.sku,featured:p.featured}),f(!1),a(!1)};return t&&p?(0,s.jsx)(L.lG,{open:t,onOpenChange:a,children:(0,s.jsxs)(L.Cf,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(L.c7,{children:[(0,s.jsxs)(L.L3,{children:["Editar Producto: ",null==i?void 0:i.name]}),(0,s.jsx)(L.rr,{children:"Realiza los cambios necesarios en la informaci\xf3n del producto."})]}),(0,s.jsxs)("form",{onSubmit:N,className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-name",children:"Nombre del producto"}),(0,s.jsx)(n.p,{id:"edit-name",name:"name",value:p.name,onChange:j,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-price",children:"Precio costo ($)"}),(0,s.jsx)(n.p,{id:"edit-price",name:"price",type:"number",value:p.price,onChange:j,required:!0,min:"0",step:"0.01"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-stock",children:"Stock Disponible"}),(0,s.jsx)(n.p,{id:"edit-stock",name:"stock",type:"number",value:p.stock,onChange:j,required:!0,min:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-category-select",children:"Categor\xeda Existente"}),(0,s.jsxs)(u.l6,{name:"category",value:p.category,onValueChange:e=>{p&&g({...p,category:e,newCategoryName:""})},children:[(0,s.jsx)(u.bq,{id:"edit-category-select",children:(0,s.jsx)(u.yv,{placeholder:"Seleccionar categor\xeda"})}),(0,s.jsx)(u.gC,{children:l.map(e=>(0,s.jsx)(u.eb,{value:e,children:e},"edit-cat-".concat(e)))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-newCategoryName",children:"O Crear/Editar a Nueva Categor\xeda"}),(0,s.jsx)(n.p,{id:"edit-newCategoryName",name:"newCategoryName",placeholder:"Ej: Electr\xf3nica Novedosa",value:p.newCategoryName,onChange:j})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-brand",children:"Marca"}),(0,s.jsx)(n.p,{id:"edit-brand",name:"brand",value:p.brand,onChange:j})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-sku",children:"SKU"}),(0,s.jsx)(n.p,{id:"edit-sku",name:"sku",value:p.sku,onChange:j})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-description",children:"Descripci\xf3n Corta"}),(0,s.jsx)(z.T,{id:"edit-description",name:"description",value:p.description,onChange:j,required:!0,rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-longDescription",children:"Descripci\xf3n Larga"}),(0,s.jsx)(z.T,{id:"edit-longDescription",name:"longDescription",value:p.longDescription,onChange:j,rows:5})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-tags",children:"Etiquetas (separadas por coma)"}),(0,s.jsx)(n.p,{id:"edit-tags",name:"tags",value:p.tags.join(", "),onChange:e=>{p&&g({...p,tags:e.target.value.split(",").map(e=>e.trim())})},placeholder:"Ej: oferta, nuevo, electronica"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,s.jsx)(m.S,{id:"edit-featured",checked:p.featured,onCheckedChange:e=>b(e)}),(0,s.jsx)(c.J,{htmlFor:"edit-featured",className:"cursor-pointer text-sm font-medium",children:"Marcar como Producto Destacado"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"edit-imageFile",children:"Imagen del Producto"}),(0,s.jsx)(n.p,{id:"edit-imageFile",type:"file",name:"imageFile",accept:"image/*",onChange:e=>{p&&(e.target.files&&e.target.files[0]?g({...p,imageFile:e.target.files[0]}):g({...p,imageFile:null}))},className:"mb-2"}),p.imageFile&&(0,s.jsxs)("p",{className:"text-xs mt-1 text-muted-foreground",children:["Nuevo archivo: ",p.imageFile.name]}),p.currentImageUrl&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Imagen actual:"}),(0,s.jsx)(P.default,{src:p.currentImageUrl,alt:"Imagen actual",width:80,height:80,className:"rounded object-cover aspect-square",onError:e=>e.currentTarget.style.display="none"}),!p.imageFile&&(0,s.jsx)("p",{className:"text-xs mt-1 text-muted-foreground",children:"(Selecciona un nuevo archivo para reemplazarla)"})]}),!p.currentImageUrl&&!p.imageFile&&(0,s.jsx)("div",{className:"w-20 h-20 bg-muted rounded flex items-center justify-center mt-2",children:(0,s.jsx)(A.A,{className:"h-10 w-10 text-muted-foreground"})})]}),(0,s.jsxs)(L.Es,{className:"pt-4",children:[(0,s.jsx)(L.HM,{asChild:!0,children:(0,s.jsx)(d.$,{type:"button",variant:"outline",disabled:x,children:"Cancelar"})}),(0,s.jsxs)(d.$,{type:"submit",disabled:x,children:[x?(0,s.jsx)(S.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(R.A,{className:"mr-2 h-4 w-4"}),"Guardar Cambios"]})]})]})]})}):null}let O="masterProductList";function q(){var e;let[t,a]=(0,r.useState)([]),[g,h]=(0,r.useState)({name:"",price:"",category:"",newCategoryName:"",stock:"5",imageFile:null,featured:!1}),[j,z]=(0,r.useState)(!0),[L,q]=(0,r.useState)(!1),[U,M]=(0,r.useState)([]),[V,B]=(0,r.useState)("all"),[H,Z]=(0,r.useState)(null),[$,G]=(0,r.useState)(!1),[W,Y]=(0,r.useState)(!1),[X,K]=(0,r.useState)(null),{toast:Q}=(0,I.dj)();(0,r.useEffect)(()=>{let e;z(!0);let t=localStorage.getItem(O);if(t)try{e=JSON.parse(t)}catch(t){console.error("Failed to parse products from localStorage, falling back to default",t),e=(0,i.AS)()}else e=(0,i.AS)();a(e),M(Array.from(new Set(e.map(e=>e.category).filter(e=>e&&""!==e.trim()))).sort()),z(!1)},[]),(0,r.useEffect)(()=>{j||(localStorage.setItem(O,JSON.stringify(t)),M(Array.from(new Set(t.map(e=>e.category).filter(e=>e&&""!==e.trim()))).sort()))},[t,j]);let ee=e=>{let{name:t,value:a}=e.target;h(e=>({...e,[t]:a}))},et=()=>{h({name:"",price:"",category:"",newCategoryName:"",stock:"5",imageFile:null,featured:!1});let e=document.getElementById("addImageFile");e&&(e.value="")},ea=async e=>{e.preventDefault();let s=g.category;if(g.newCategoryName&&""!==g.newCategoryName.trim()&&(s=g.newCategoryName.trim()),!g.name||!g.price||!s||""===g.stock){Q({title:"Error",description:"Nombre, precio, categor\xeda y stock son requeridos.",variant:"destructive"});return}let r=parseFloat(g.price),i=parseInt(g.stock,10);if(isNaN(r)||r<0){Q({title:"Error",description:"El precio debe ser un n\xfamero v\xe1lido.",variant:"destructive"});return}if(isNaN(i)||i<0){Q({title:"Error",description:"El stock debe ser un n\xfamero entero no negativo.",variant:"destructive"});return}q(!0);let o="";if(g.imageFile){let{id:e,dismiss:t}=Q({title:"Subiendo imagen...",description:"Por favor espera.",duration:1/0});try{let e=ref(storage,"product_images/".concat(Date.now(),"_").concat(g.imageFile.name));await uploadBytes(e,g.imageFile),o=await getDownloadURL(e),t(),Q({title:"Imagen subida",description:"La imagen se ha subido correctamente."})}catch(e){console.error("Error uploading image: ",e),t(),Q({title:"Error de subida de imagen",description:"No se pudo subir la imagen. ".concat(e.message||"Intenta de nuevo."),variant:"destructive"}),q(!1);return}}else o="https://placehold.co/100x100.png?text=".concat(encodeURIComponent(g.name));let l=t.length?(Math.max(...t.map(e=>parseInt(e.id||"0",10)))+1).toString():"1",d={id:l,name:g.name,price:r,category:s,stock:i,description:"Descripci\xf3n de ".concat(g.name),longDescription:"Descripci\xf3n m\xe1s detallada de ".concat(g.name),images:[o],currency:"$",featured:g.featured,sku:"SKU-".concat(l),brand:"Marca Ejemplo",tags:[s.toLowerCase()]};a(e=>[...e,d]),Q({title:"\xc9xito",description:"Producto agregado."}),et(),q(!1)},es=e=>{K(e),Y(!0)},er=e=>{Z(e),G(!0)},ei=()=>{Z(null),G(!1)},eo=(0,r.useMemo)(()=>"all"===V?t:t.filter(e=>e.category===V),[t,V]),el=(0,r.useMemo)(()=>eo.reduce((e,t)=>{let a=t.category||"Sin Categor\xeda";return e[a]||(e[a]=[]),e[a].push(t),e},{}),[eo]);return j?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o.z,{title:"Lista de Costos Privados",description:"Cargando productos y costos..."}),(0,s.jsx)(l.Zp,{id:"product-form-card",children:(0,s.jsx)(l.Wu,{className:"p-6",children:(0,s.jsx)(J.E,{className:"h-96 bg-muted rounded-md"})})}),(0,s.jsx)(l.Zp,{children:(0,s.jsx)(l.Wu,{className:"p-6",children:(0,s.jsx)(J.E,{className:"h-96 bg-muted rounded-md"})})})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o.z,{title:"Lista de Costos Privados (Lista Madre)",description:"Gestiona los costos, stock, im\xe1genes y si un producto es destacado. Los cambios aqu\xed afectar\xe1n otras secciones."}),(0,s.jsxs)(l.Zp,{id:"add-product-form-card",className:"shadow-lg",children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:"Agregar Nuevo Producto"})}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("form",{onSubmit:ea,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"add-name",children:"Nombre del producto"}),(0,s.jsx)(n.p,{id:"add-name",type:"text",name:"name",placeholder:"Ej: Termo Stanley",value:g.name,onChange:ee,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"add-price",children:"Precio costo ($)"}),(0,s.jsx)(n.p,{id:"add-price",type:"number",name:"price",placeholder:"Ej: 15000",value:g.price,onChange:ee,required:!0,min:"0",step:"0.01"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"add-stock",children:"Stock Disponible"}),(0,s.jsx)(n.p,{id:"add-stock",type:"number",name:"stock",placeholder:"Ej: 10",value:g.stock,onChange:ee,required:!0,min:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"add-category-form-select",children:"Categor\xeda Existente"}),(0,s.jsxs)(u.l6,{name:"category",value:g.category,onValueChange:e=>{h(t=>({...t,category:e,newCategoryName:""}))},children:[(0,s.jsx)(u.bq,{id:"add-category-form-select",children:(0,s.jsx)(u.yv,{placeholder:"Seleccionar categor\xeda"})}),(0,s.jsx)(u.gC,{children:U.filter(e=>e&&""!==e.trim()).map(e=>(0,s.jsx)(u.eb,{value:e,children:e},"add-cat-".concat(e)))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"add-newCategoryName",children:"O Crear Nueva Categor\xeda"}),(0,s.jsx)(n.p,{id:"add-newCategoryName",name:"newCategoryName",placeholder:"Ej: Electr\xf3nica Avanzada",value:g.newCategoryName,onChange:ee})]}),(0,s.jsxs)("div",{className:"lg:col-span-1",children:[" ",(0,s.jsx)(c.J,{htmlFor:"addImageFile",children:"Imagen del Producto"}),(0,s.jsx)(n.p,{id:"addImageFile",type:"file",name:"imageFile",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]?h({...g,imageFile:e.target.files[0]}):h({...g,imageFile:null})}}),g.imageFile&&(0,s.jsxs)("p",{className:"text-xs mt-1 text-muted-foreground",children:["Archivo seleccionado: ",g.imageFile.name]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-2 md:col-span-1 lg:col-span-3",children:[(0,s.jsx)(m.S,{id:"add-featured",checked:g.featured,onCheckedChange:e=>{h({...g,featured:e})}}),(0,s.jsx)(c.J,{htmlFor:"add-featured",className:"cursor-pointer text-sm font-medium",children:"Marcar como Producto Destacado"})]})]}),(0,s.jsx)("div",{className:"flex space-x-2 pt-2",children:(0,s.jsxs)(d.$,{type:"submit",disabled:L,children:[L?(0,s.jsx)(S.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(E.A,{className:"mr-2 h-4 w-4"}),L?"Agregando...":"Agregar Producto"]})})]})})]}),(0,s.jsxs)(l.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Listado de Productos y Costos"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-2",children:[(0,s.jsxs)(l.BT,{children:["Visualiza y administra los productos. Actualmente hay ",t.length," productos."]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,s.jsx)(F.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)(u.l6,{value:V,onValueChange:B,children:[(0,s.jsx)(u.bq,{className:"w-full sm:w-[200px]",id:"category-filter-select",children:(0,s.jsx)(u.yv,{placeholder:"Filtrar por categor\xeda"})}),(0,s.jsxs)(u.gC,{children:[(0,s.jsx)(u.eb,{value:"all",children:"Todas las Categor\xedas"}),U.filter(e=>e&&""!==e.trim()).map(e=>(0,s.jsx)(u.eb,{value:e,children:e},"filter-".concat(e)))]})]})]})]})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(p.XI,{children:[(0,s.jsx)(p.A0,{children:(0,s.jsxs)(p.Hj,{children:[(0,s.jsx)(p.nd,{className:"w-[50px]",children:"ID"}),(0,s.jsx)(p.nd,{className:"w-[100px]",children:"Imagen"}),(0,s.jsx)(p.nd,{children:"Producto"}),(0,s.jsx)(p.nd,{className:"text-right",children:"Precio Costo"}),(0,s.jsx)(p.nd,{className:"text-right",children:"Stock"}),(0,s.jsx)(p.nd,{children:"Categor\xeda"}),(0,s.jsx)(p.nd,{className:"text-center",children:"Destacado"}),(0,s.jsx)(p.nd,{className:"text-right w-[150px]",children:"Acciones"})]})}),(0,s.jsx)(p.BF,{children:Object.keys(el).length>0?Object.entries(el).map(e=>{let[t,a]=e;return(0,s.jsxs)(r.Fragment,{children:[("all"===V||V===t)&&a.length>0&&(0,s.jsx)(p.Hj,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-10",children:(0,s.jsxs)(p.nA,{colSpan:8,className:"font-semibold text-primary text-lg py-3",children:[t," (",a.length,")"]})}),a.map(e=>(0,s.jsxs)(p.Hj,{className:(0,x.cn)(e.stock&&0!==e.stock?"":"bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-800/40",e.stock>0&&e.stock<=5?"bg-yellow-100 dark:bg-yellow-900/30 hover:bg-yellow-200 dark:hover:bg-yellow-800/40":""),children:[(0,s.jsx)(p.nA,{children:e.id}),(0,s.jsx)(p.nA,{children:e.images&&e.images[0]?(0,s.jsx)(P.default,{src:e.images[0],alt:e.name,width:40,height:40,className:"rounded object-cover aspect-square","data-ai-hint":(e.category||"product").toLowerCase()+" "+e.name.split(" ")[0].toLowerCase(),onError:e=>e.currentTarget.src="https://placehold.co/40x40.png?text=Error"}):(0,s.jsx)("div",{className:"w-10 h-10 bg-muted rounded flex items-center justify-center",children:(0,s.jsx)(A.A,{className:"h-5 w-5 text-muted-foreground"})})}),(0,s.jsx)(p.nA,{className:"font-medium",children:e.name}),(0,s.jsxs)(p.nA,{className:"text-right",children:["$",e.price.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,s.jsxs)(p.nA,{className:(0,x.cn)("text-right font-semibold",e.stock&&0!==e.stock?"":"text-red-600 dark:text-red-400",e.stock>0&&e.stock<=5?"text-yellow-700 dark:text-yellow-400":""),children:[e.stock||0,(!e.stock||0===e.stock)&&(0,s.jsx)("span",{className:"block text-xs",children:"(Sin Stock)"}),e.stock>0&&e.stock<=5&&(0,s.jsx)("span",{className:"block text-xs",children:"(Bajo Stock)"})]}),(0,s.jsx)(p.nA,{children:e.category}),(0,s.jsx)(p.nA,{className:"text-center",children:e.featured?(0,s.jsx)(D.A,{className:"h-5 w-5 text-yellow-400 fill-yellow-400 mx-auto"}):(0,s.jsx)(D.A,{className:"h-5 w-5 text-muted-foreground/50 mx-auto"})}),(0,s.jsxs)(p.nA,{className:"text-right",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>es(e),className:"mr-1",disabled:L,children:(0,s.jsx)(R.A,{className:"h-4 w-4"})}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>er(e.id),className:"text-destructive hover:text-destructive",disabled:L,children:(0,s.jsx)(T.A,{className:"h-4 w-4"})})]})]},e.id))]},t)}):(0,s.jsx)(p.Hj,{children:(0,s.jsx)(p.nA,{colSpan:8,className:"text-center h-24",children:"all"!==V?'No hay productos en la categor\xeda "'.concat(V,'".'):"No hay productos para mostrar. Agrega algunos usando el formulario de arriba."})})})]})})})]}),(0,s.jsx)(f,{open:$,onOpenChange:e=>{e?G(!0):ei()},children:(0,s.jsxs)(b,{children:[(0,s.jsxs)(N,{children:[(0,s.jsx)(v,{children:"Confirmar Eliminaci\xf3n"}),(0,s.jsxs)(w,{children:['\xbfEst\xe1s seguro de que quieres eliminar el producto "',H?null===(e=t.find(e=>e.id===H))||void 0===e?void 0:e.name:"",'"? Esta acci\xf3n no se puede deshacer.']})]}),(0,s.jsxs)(y,{children:[(0,s.jsx)(C,{onClick:ei,children:"Cancelar"}),(0,s.jsx)(k,{onClick:()=>{H&&(a(e=>e.filter(e=>e.id!==H)),Q({title:"Producto eliminado",description:"El producto ha sido eliminado de la lista.",variant:"destructive"})),Z(null),G(!1)},className:"bg-destructive hover:bg-destructive/90",children:"S\xed, eliminar producto"})]})]})}),X&&(0,s.jsx)(_,{isOpen:W,onOpenChange:Y,productToEdit:X,onProductUpdate:e=>{a(t=>t.map(t=>t.id===e.id?e:t)),Q({title:"\xc9xito",description:'Producto "'.concat(e.name,'" actualizado.')}),Y(!1),K(null)},productCategories:U})]})}},4165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>p,Es:()=>x,HM:()=>m,L3:()=>f,c7:()=>g,lG:()=>d,rr:()=>h,zM:()=>n});var s=a(5155),r=a(2115),i=a(5452),o=a(5318),l=a(9434);let d=i.bL,n=i.l9,c=i.ZL,m=i.bm,u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=i.hJ.displayName;let p=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(i.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,s.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=i.UC.displayName;let g=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};g.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});f.displayName=i.hE.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=i.VY.displayName},5057:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var s=a(5155),r=a(2115),i=a(968),o=a(2085),l=a(9434);let d=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.b,{ref:t,className:(0,l.cn)(d(),a),...r})});n.displayName=i.b.displayName},5127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>d,Hj:()=>n,XI:()=>o,nA:()=>m,nd:()=>c});var s=a(5155),r=a(2115),i=a(9434);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...r})})});o.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...r})});l.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});n.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},7262:(e,t,a)=>{"use strict";a.d(t,{S:()=>d});var s=a(5155),r=a(2115),i=a(6981),o=a(518),l=a(9434);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.bL,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(i.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})})});d.displayName=i.bL.displayName},7285:(e,t,a)=>{Promise.resolve().then(a.bind(a,3320))},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var s=a(2115);let r=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],n={toasts:[]};function c(e){n=l(n,e),d.forEach(e=>{e(n)})}function m(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=s.useState(n);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8539:(e,t,a)=>{"use strict";a.d(t,{T:()=>o});var s=a(5155),r=a(2115),i=a(9434);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});o.displayName="Textarea"},8856:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var s=a(5155),r=a(9434);function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...a})}},9409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>f,gC:()=>x,l6:()=>c,yv:()=>m});var s=a(5155),r=a(2115),i=a(663),o=a(9556),l=a(7381),d=a(518),n=a(9434);let c=i.bL;i.YJ;let m=i.WT,u=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(i.l9,{ref:t,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=i.l9.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.PP,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=i.PP.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.wn,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});g.displayName=i.wn.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,position:o="popper",...l}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:t,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...l,children:[(0,s.jsx)(p,{}),(0,s.jsx)(i.LM,{className:(0,n.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(g,{})]})})});x.displayName=i.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.JU,{ref:t,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=i.JU.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(i.q7,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:r})]})});f.displayName=i.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.wv,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=i.wv.displayName},9551:(e,t,a)=>{"use strict";a.d(t,{z:()=>r});var s=a(5155);function r(e){let{title:t,description:a,className:r}=e;return(0,s.jsxs)("div",{className:"mb-8 ".concat(null!=r?r:""),children:[" ",(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:t}),a&&(0,s.jsxs)("div",{className:"mt-2 text-lg text-muted-foreground",children:[" ",a]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2848,8135,1149,4070,8089,7929,5185,8441,1684,7358],()=>t(7285)),_N_E=e.O()}]);